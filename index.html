<!DOCTYPE html>
<html>
<head>

<!-- this is an external stylesheet called PureCSS; we are only actually using it for the buttons, at this point. Might be better to copy the specific styling of the buttons and then have everything in a single, meep-project-specific CSS external stylesheet -->
 
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Raleway:200">

<style>

/* this is the  style sheet */

.basic {
  font-size: 24px;
  font-weight: normal;
  font-family: "Raleway:200", "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-align: center;
}

.instructions {
  font-size: 18px;
  color: #777;
  line-height: 1.6;
  font-weight: 100;
  text-align: center;
}

.buttons {
  text-align:center;
}

h1 {
  color: #4B4B4D;
  font-size: 40px;
  font-family: "Raleway", "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-align: center;
}
</style>

</head>

<body>

<!-- The HTML starts here -- this creates the buttons/fields/headers/instructions that show up on the page -->

<h1> Meep Meep Mee Meep </h1>
<p class="instructions"> 
  1) Press <i>Mee</i> and <i>Meep</i> buttons to write Mee(p)-based communication</br>
  2) Press <i>Translate</i> to get an English-language translation</br>
</p>

<!-- The Mee and Meep buttons allow the user to print Mees and Meeps onto the screen in order to create a Mee(p)-filled sentence -->

<p class="buttons">
<button id="meep_button" class="pure-button">Meep</button>
<button id="mee_button" class="pure-button">Mee</button>
<button id="clear_button" class="pure-button">(Clear Meeps)</button>
</p>

<!-- the input field is where the Mees and Meeps get printed. The '&zwnj;' is a "zero width non-joiner character" in html; it's there to create a linebreak before the "Translate" button even before the Mee and Meep buttons have been pressed -->

<p id="input" class="basic">&zwnj;</p>

<!-- the translate button is what the user hits to get an English-language translation of their mee(p) -sentence -->

<p class="buttons">
<button id="translate_button" class="pure-button">Translate!</button>
</p>

<!-- the translate field is where the translation gets printed  -->

<p id="translation" class="basic">&zwnj;</p>

<!-- this is the end of the HTML section - everything in the next section, the "script" section, is Javascript, which makes all the stuff "work" -->

<script>

// This makes the 'Mee' button print 'Mee's on screen

document.getElementById("mee_button").onclick = print_mee;

function print_mee() {
    document.getElementById("input").innerHTML = document.getElementById("input").innerHTML + ' Mee';
}

// This makes the 'Meep' button print 'Meep' on screen

document.getElementById("meep_button").onclick = print_meep;

function print_meep() {
    document.getElementById("input").innerHTML = document.getElementById("input").innerHTML + ' Meep';
}

// This makes the 'Clear' button, which resests the on-screen mee(p)-sentence

document.getElementById("clear_button").onclick = clear_meeps;

function clear_meeps() {
    document.getElementById("input").innerHTML = '&zwnj;'
}

// a list of english-language sentences 

var translation_list = [
"(a meepless silence)",
"Rosebud....",
"Hello, gorgeous.",
"Well, nobody's perfect.",
"You talkin' to me?",
"Here's looking at you, kid.",
"There's a snake in my boot!",
"A boy's best friend is his mother.",
"Frankly, my dear, I don't give a damn.",
"So I told her, <i>Meep? Mee Mee Mee Meep!</i>",
"This town ain't big enough for the two of us.",
"Louis, I think this is the beginning of a beautiful friendship.",
"All those moments will be lost in time... like tears in rain.",
"Life is like a box of chocolates; never know what you're gonna get.",
"Don't let anyone ever make you feel like you don't deserve what you want."
];

// This initialises the easter-egg counter. Every X translations the translator does something "special", like translating into Beeps instead of into English

var easter_eggs = 0

// This makes the 'Translate' button print an English-language translation of the 'input' field

document.getElementById("translate_button").onclick = print_translation;

function print_translation() {
  //increments the easter_egg counter. Every time someone clicks "translate" the easter_egg counter goes up by one, so that we can make it happen that every X translations the translator does something cool/interesting/different from the norm.
  easter_eggs = easter_eggs + 1;
  var meep_count = document.getElementById("input").innerHTML.split(" ").length - 1;
  //if the input happens to be zero-length then the easter eggs (which manipulate the input text in various ways) wouldn't actually work. Perhaps this can be improved somehow later.
  if (meep_count === 0) {
      document.getElementById("translation").innerHTML = "(a meepless silence)";
  } else if (easter_eggs == 3) {
      //this easter egg just gives you back what you put in but with Meeps turned into Beeps and Mees into Bees
      document.getElementById("translation").innerHTML = document.getElementById("input").innerHTML.replace(/Meep/g, 'Beep').replace(/Mee/g, 'Bee');
  } else if (easter_eggs == 7) {
    //this easter egg just gives back what you put in but with the Mees and Meeps reversed. So e.g. "Meep Mee Mee Meep" would turn into "Mee Meep Meep Mee". Amusingly, the code needs a "placeholder" thingumajig because if you just tell it to replace Meep --> Mee and Mee --> Meep then EVERYTHING ends up as Meep... because all the Meeps get changed to Mees, first, and then everything gets turned back into Meeps! Perhaps there is a better way to write this code so that all substitutions happen simultaneously but I don't know how to do that.
      document.getElementById("translation").innerHTML = document.getElementById("input").innerHTML.replace(/Meep/g, 'Placeholder').replace(/Mee/g, 'Meep').replace(/Placeholder/g, 'Mee');
  // check that input string is not longer than the longest English sentence in our dictionary. If the input string is short enough that we have a suitable translation, just do that translation.
  } else if (meep_count < translation_list.length) {
      document.getElementById("translation").innerHTML = "&nbsp;" + translation_list[meep_count];
  } else {
  // if input string is too long then we just return an error message basically saying "woah, your string is too long". Hopefully the user will then "clear meeps" before continuing
        document.getElementById("translation").innerHTML = "&nbsp;" + "Woah woah woah, that's a bit meeping much.";
      }
  }

</script>

</body>
</html> 
