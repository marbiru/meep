<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Raleway:200">
  <meta property="og:image" content="https://github.com/marbiru/meep/blob/gh-pages/images/Meep.png" /> 
</head>
<body>

<h1> Meep Meep Mee Meep </h1>
<p class="instructions"> 
  1) Press <i>Mee</i> and <i>Meep</i> buttons to write Mee(p)-based communication</br>
  2) Press <i>Translate</i> to get an English-language translation</br>
</p>

<!-- The Mee and Meep buttons allow the user to print Mees and Meeps onto the screen in order to create a Mee(p)-filled sentence -->

<p class="buttons">
<button id="meep_button" class="pure-button">Meep</button>
<button id="mee_button" class="pure-button">Mee</button>
<button id="clear_button" class="pure-button">(Clear Meeps)</button>
</p>

<!-- the input field is where the Mees and Meeps get printed. The '&nbsp;' is a non-breaking blank character in html; it's there to create a linebreak before the "Translate" button even if the Mee and Meep buttons have not been pressed yet -->

<p id="input" class="basic">&zwnj;</p>

<!-- the translate button is what the user hits to get an English-language translation of their mee(p) -sentence -->

<p class="buttons">
<button id="translate_button" class="pure-button">Translate!</button>
</p>

<p id="translation" class="basic">&zwnj;</p>

<script>

// This makes the 'Mee' button print 'Mee's on screen

document.getElementById("mee_button").onclick = print_mee;

function print_mee() {
    document.getElementById("input").innerHTML = document.getElementById("input").innerHTML + ' Mee';
}

// This makes the 'Meep' button print 'Meep' on screen

document.getElementById("meep_button").onclick = print_meep;

function print_meep() {
    document.getElementById("input").innerHTML = document.getElementById("input").innerHTML + ' Meep';
}

// This makes the 'Clear' button, which resests the on-screen mee(p)-sentence

document.getElementById("clear_button").onclick = clear_meeps;

function clear_meeps() {
    document.getElementById("input").innerHTML = '&nbsp;'
}

// a list of english-language sentences 

var translation_list = [
"(a meepless silence)",
"Rosebud....",
"Hello, gorgeous.",
"Well, nobody's perfect.",
"You talkin' to me?",
"Here's looking at you, kid.",
"There's a snake in my boot!",
"A boy's best friend is his mother.",
"Frankly, my dear, I don't give a damn.",
"So I told her, <i>Meep? Mee Mee Mee Meep!</i>",
"This town ain't big enough for the two of us.",
"Louis, I think this is the beginning of a beautiful friendship.",
"All those moments will be lost in time... like tears in rain.",
"Life is like a box of chocolates; never know what you're gonna get.",
"Don't let anyone ever make you feel like you don't deserve what you want."
];

// This initialises the easter-egg counter. Every X translations the translator does something "special", like translating into Beeps instead of into English

var easter_eggs = 0

// This makes the 'Translate' button print an English-language translation of the 'input' field

document.getElementById("translate_button").onclick = print_translation;

function print_translation() {
  easter_eggs = easter_eggs + 1;
  var meep_count = document.getElementById("input").innerHTML.split(" ").length - 1;
  //if the input happens to be zero-length then the current easter eggs wouldn't actually work, given that the easter eggs tend to manipulate the input text.
  if (meep_count === 0) {
      document.getElementById("translation").innerHTML = "(a meepless silence)";
  } else if (easter_eggs == 3) {
      document.getElementById("translation").innerHTML = document.getElementById("input").innerHTML.replace(/Meep/g, 'Beep').replace(/Mee/g, 'Bee');
  } else if (easter_eggs == 7) {
    //amusingly, if you do a straight Meep --> Mee and Mee --> Meep switch then EVERYTHING ends up as Meep... because all the Meeps get changed to Meeps and back. Hence our intermediate use of Placeholder here
      document.getElementById("translation").innerHTML = document.getElementById("input").innerHTML.replace(/Meep/g, 'Placeholder').replace(/Mee/g, 'Meep').replace(/Placeholder/g, 'Mee');
  // check that input string is not longer than the longest English sentence in our dictionary -- if so, execute the "normal" translation
  } else if (meep_count < translation_list.length) {
      document.getElementById("translation").innerHTML = "&nbsp;" + translation_list[meep_count];
  } else {
  // if input string is too long then we just return an error message, basically
        document.getElementById("translation").innerHTML = "&nbsp;" + "Woah woah woah, that's a bit meeping much.";
      }
  }

</script>

<style>

.basic {
  font-size: 24px;
  font-weight: normal;
  font-family: "Raleway:200", "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-align: center;
}

.instructions {
  font-size: 18px;
  color: #777;
  line-height: 1.6;
  font-weight: 100;
  text-align: center;
}

.buttons {
  text-align:center;
}

h1 {
  color: #4B4B4D;
  font-size: 40px;
  font-family: "Raleway", "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-align: center;
}
</style>

</body>
</html> 
